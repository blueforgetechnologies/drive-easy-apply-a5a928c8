-- Add new fields to vehicles table for comprehensive asset management
ALTER TABLE public.vehicles
ADD COLUMN IF NOT EXISTS carrier TEXT,
ADD COLUMN IF NOT EXISTS payee TEXT,
ADD COLUMN IF NOT EXISTS bid_as TEXT,
ADD COLUMN IF NOT EXISTS driver_1_id UUID,
ADD COLUMN IF NOT EXISTS driver_2_id UUID,
ADD COLUMN IF NOT EXISTS primary_dispatcher_id UUID,
ADD COLUMN IF NOT EXISTS asset_type TEXT,
ADD COLUMN IF NOT EXISTS asset_subtype TEXT,
ADD COLUMN IF NOT EXISTS payload INTEGER,
ADD COLUMN IF NOT EXISTS lift_gate BOOLEAN DEFAULT false,
ADD COLUMN IF NOT EXISTS lift_gate_capacity INTEGER,
ADD COLUMN IF NOT EXISTS lift_gate_dims TEXT,
ADD COLUMN IF NOT EXISTS dimensions_length INTEGER,
ADD COLUMN IF NOT EXISTS dimensions_width INTEGER,
ADD COLUMN IF NOT EXISTS dimensions_height INTEGER,
ADD COLUMN IF NOT EXISTS door_dims_height INTEGER,
ADD COLUMN IF NOT EXISTS door_dims_width INTEGER,
ADD COLUMN IF NOT EXISTS door_type TEXT,
ADD COLUMN IF NOT EXISTS has_side_door BOOLEAN DEFAULT false,
ADD COLUMN IF NOT EXISTS air_ride BOOLEAN DEFAULT false,
ADD COLUMN IF NOT EXISTS axles INTEGER,
ADD COLUMN IF NOT EXISTS clearance INTEGER,
ADD COLUMN IF NOT EXISTS suspension TEXT,
ADD COLUMN IF NOT EXISTS vertical_etrack_rows INTEGER,
ADD COLUMN IF NOT EXISTS horizontal_etracks INTEGER,
ADD COLUMN IF NOT EXISTS asset_ownership TEXT,
ADD COLUMN IF NOT EXISTS pickup_date DATE,
ADD COLUMN IF NOT EXISTS pickup_odometer INTEGER,
ADD COLUMN IF NOT EXISTS return_date DATE,
ADD COLUMN IF NOT EXISTS return_odometer INTEGER,
ADD COLUMN IF NOT EXISTS insurance_cost_per_month NUMERIC(10,2),
ADD COLUMN IF NOT EXISTS fuel_per_gallon NUMERIC(10,2),
ADD COLUMN IF NOT EXISTS odometer INTEGER,
ADD COLUMN IF NOT EXISTS speed INTEGER,
ADD COLUMN IF NOT EXISTS stopped_status TEXT,
ADD COLUMN IF NOT EXISTS last_location TEXT,
ADD COLUMN IF NOT EXISTS last_updated TIMESTAMP WITH TIME ZONE,
ADD COLUMN IF NOT EXISTS provider TEXT,
ADD COLUMN IF NOT EXISTS provider_id TEXT,
ADD COLUMN IF NOT EXISTS provider_status TEXT,
ADD COLUMN IF NOT EXISTS toll_device_sn TEXT,
ADD COLUMN IF NOT EXISTS tracking_device_imei TEXT,
ADD COLUMN IF NOT EXISTS eld_device_sn TEXT,
ADD COLUMN IF NOT EXISTS dash_cam_sn TEXT,
ADD COLUMN IF NOT EXISTS straps_count INTEGER,
ADD COLUMN IF NOT EXISTS blankets INTEGER,
ADD COLUMN IF NOT EXISTS pallet_jack BOOLEAN DEFAULT false,
ADD COLUMN IF NOT EXISTS pallet_jack_capacity INTEGER,
ADD COLUMN IF NOT EXISTS load_bars_etrack INTEGER,
ADD COLUMN IF NOT EXISTS load_bars_non_etrack INTEGER,
ADD COLUMN IF NOT EXISTS trailer_tracking BOOLEAN DEFAULT false,
ADD COLUMN IF NOT EXISTS door_sensors BOOLEAN DEFAULT false,
ADD COLUMN IF NOT EXISTS temp_control BOOLEAN DEFAULT false,
ADD COLUMN IF NOT EXISTS panic_button BOOLEAN DEFAULT false,
ADD COLUMN IF NOT EXISTS team BOOLEAN DEFAULT false,
ADD COLUMN IF NOT EXISTS reg_plate TEXT,
ADD COLUMN IF NOT EXISTS reg_state TEXT,
ADD COLUMN IF NOT EXISTS physical_coverage_status TEXT,
ADD COLUMN IF NOT EXISTS physical_coverage_exp_date DATE,
ADD COLUMN IF NOT EXISTS cargo_coverage_status TEXT,
ADD COLUMN IF NOT EXISTS cargo_coverage_exp_date DATE,
ADD COLUMN IF NOT EXISTS registration_status TEXT,
ADD COLUMN IF NOT EXISTS registration_exp_date DATE,
ADD COLUMN IF NOT EXISTS liability_coverage_status TEXT,
ADD COLUMN IF NOT EXISTS liability_coverage_exp_date DATE,
ADD COLUMN IF NOT EXISTS oil_change_due INTEGER,
ADD COLUMN IF NOT EXISTS oil_change_remaining INTEGER;

-- Add comment for asset type field
COMMENT ON COLUMN public.vehicles.asset_type IS 'Type of asset: 24'' Large Straight, 26'' Large Straight, Air Ride, etc.';